teams =
[
  { num:1,
		title:'The Flight of Boxy',
		teamname:'The Terabytes (formerly Blue Steel)',
		reviewers:[],
		url:"https://sites.google.com/a/brandeis.edu/blue-steel/home/rc1"
	},

  { num:2,
		title:'Snowball Fight',
		teamname:'75% Korean',
		reviewers:[],
		url:"https://drive.google.com/drive/folders/0BxhLJwT_SEqTTEVPdFBMd0wtRmc?usp=sharing"
	},

  { num:3,
		title:'Room Escape',
		teamname:'PrimeXL',
		reviewers:[],
		url:"https://sites.google.com/a/post.massbay.edu/clonedigitalimagen/"
	},

  { num:4,
    title:'Totoro',
    teamname:'Totoro',
    reviewers:[],
    url:"https://sites.google.com/a/brandeis.edu/totoro/finalgame"},

  { num:5,
    title:'Pokemon World',
    teamname:'LandWorks',
    reviewers:[],
    url:"https://sites.google.com/a/brandeis.edu/landworks/home/hw9rc1",
	},

  { num:6,
		title:'Invaders of Space',
		teamname:'Picks_R',
		reviewers:[],
		url:"https://sites.google.com/a/brandeis.edu/picks_r/rc1"
	},

  { num:7,
    title:'Find the Landscape',
    teamname:'LW Squared',
    reviewers:[],
    url:"https://sites.google.com/a/brandeis.edu/lw-squared/rc1-page"
  },

  { num:8,
		title:'Harry Potter and His Escape',
		teamname:'Project Mayhem',
		reviewers:[],
		url:"https://sites.google.com/a/brandeis.edu/cosi164team8/home"
	},

  { num:9,
		title:'Brandeis Outbreak',
		teamname:'Chief Nish',
		reviewers:[],
		url:"https://sites.google.com/a/brandeis.edu/chief-nish/hw7/release-candidate-1"
	},

  { num:10,
    title:'Cat Assassin',
    teamname:'Team Ten',
    reviewers:[],
    url:"https://sites.google.com/a/brandeis.edu/cat-assassin/home/rc1"},

  { num:11,
    title:'Quantum Escapement',
    teamname:'MA4^2PhD',
    reviewers:[],
    url:"https://sites.google.com/a/brandeis.edu/ma43phd/home/rc1"
  },

  { num:12,
		title:'Wander',
		teamname:'Fireball',
		reviewers:[],
		url:"https://sites.google.com/a/brandeis.edu/fireball/homes"
	},

  { num:13,
    title:'Superman Travelling the Sky',
    teamname:'Forensic Heroes',
    reviewers:[],
    url:"https://sites.google.com/a/brandeis.edu/forensic-heroes/cr1"},

  { num:14,
    title:'The Comeback of a "Superman"',
    teamname:'Team 14',
    reviewers:[],
    url:"https://sites.google.com/a/brandeis.edu/yumeworks/home/rc1?pli=1",
  },

  { num:15,
		title:'Final Crushing',
		teamname:'Chimpanzee-Brandeis Co',
		reviewers:[],
		url:"https://sites.google.com/a/brandeis.edu/chimpanzee-brandeis-co/home/rc1"
	},

  { num:16,
		title:'Project Time Raft',
		teamname:'Lonely Pirate Productions',
		reviewers:[],
		url:"https://sites.google.com/a/brandeis.edu/lonelypirateproductions/current-projects/release-candidate-1"},

  { num:17,
		title:'Spacecraft Shooter',
		teamname:'Wavedash',
		reviewers:[],
		url:"https://sites.google.com/a/brandeis.edu/wavedash/home/rc1",
	},

  { num:18,
    title:'Treasure Hunter',
    teamname:'Team 18',
    reviewers:[],
    url:"https://sites.google.com/a/brandeis.edu/two-point-0/hw9---release-candidate-1",
  },

  { num:19,
    title:'Branadventure',
    teamname:'FungiStudio',
    reviewers:[],
    url:"https://sites.google.com/a/brandeis.edu/fungistudio/rc1",
  },

  { num:20,
    title:'Nightmare',
    teamname:'Team 20',
    reviewers:[],
    url:"https://sites.google.com/a/brandeis.edu/nightmare/home/hw9",
  },

  { num:21,
		title:'Suzanne: The Great Escape',
		teamname:'Damaged Engineers',
		reviewers:[],
		url:"https://drive.google.com/drive/folders/0BzDAbhgHMShKZUdOMXdDQjVKOHM?usp=sharing"
	},

  { num:22,
		title:'Gonzales: El Bigote del Sur',
		teamname:'Los Juegos Buenos',
		reviewers:[],
		url:"https://sites.google.com/a/brandeis.edu/los-juegos-buenos/home/rc1"
	},

  { num:23,
    title:'testing',
    teamname:'TimsTests',
    reviewers:[],
    url:""
  },

  { num:24,
		title:'Spike Evasion',
		teamname:'Underwater Squad',
		reviewers:[],
		url:"https://sites.google.com/a/brandeis.edu/underwater-squad/home/release-candidate-1"
	},

  { num:25,
    title:'TurboRacing',
    teamname:'Turbo Tech',
    reviewers:[],
    url:"https://sites.google.com/a/brandeis.edu/turbotech1/home/hw9-rc1",
  },

  { num:26,
		title:'Animatrix',
		teamname:'Animatrix Productions',
		reviewers:[],
		url:"https://sites.google.com/a/brandeis.edu/animatrix/home"},

  { num:27,
    title:'Treasure Bay',
    teamname:'Golden Bear',
    reviewers:[],
    url:"https://sites.google.com/a/brandeis.edu/goldenbear/home/rc1",
  },

  { num:28,
		title:'Super Mario Blender',
		teamname:'Ultra Studios',
		reviewers:[],
		url:"https://sites.google.com/a/brandeis.edu/ultra-studios/business-website-services"
	},

  { num:29,
    title:'SuperApple',
    teamname:'SuperNova',
    reviewers:[],
    url:"https://sites.google.com/a/brandeis.edu/supernova/rc1"},

  { num:30,
		title:'Go Bananas',
		teamname:'Money Team',
		reviewers:[],
		url:"https://sites.google.com/a/brandeis.edu/gobananas/rc1"
	},

  { num:31,
		title:'Not Ur Ave. Game',
		teamname:'AFK Productions',
		reviewers:[],
		url:"https://sites.google.com/a/brandeis.edu/away-from-keyboard/"
	},

  { num:32,
		title:'Zombie Rush',
		teamname:'Zombie Bros',
		reviewers:[],
		url:"https://sites.google.com/a/brandeis.edu/zombie-bros/"
	}

];

var members =
[
{team:9, name:"Acharya, Nishan",	email:"acharyan@brandeis.edu"},
{team:17, name:"Alvarado, Joshua",	email:"jalva@brandeis.edu"},
{team:12, name:"Amrien, Conor",	        email:"rconora@brandeis.edu"},
{team:9, name:"April, Nicholas",	email:"napril@brandeis.edu"},
{team:22, name:"Berkowitz, Adi",	email:"adiberk@brandeis.edu"},
{team:12, name:"Brown, Brianna",	email:"bb3048@brandeis.edu"},
{team:24, name:"Browning, Beckett",	email:"beckettb@brandeis.edu"},
{team:24, name:"Bug, Moses",	email:"mbug@brandeis.edu"},
{team:24, name:"Byun, Jin",	email:"byunjins@brandeis.edu"},
{team:11, name:"Cabrera, Paul",	email:"pcabrera@brandeis.edu"},
{team:5, name:"Chen, Bruce Siyu",	email:"brucewilliam@brandeis.edu"},
{team:14, name:"Chen, Jacky",	email:"sychen1996@brandeis.edu"},
{team:28, name:"Chen, Jialong",	email:"jlch@brandeis.edu"},
{team:4, name:"Chen, Lian",	email:"lianc@brandeis.edu"},
{team:22, name:"Chen,  Steven",	email:"stevenchen@brandeis.edu"},
{team:16, name:"Chen, Steven",	email:"stchen10@brandeis.edu"},
{team:3, name:"Chen, Xi",	email:"shibu@brandeis.edu"},
{team:29, name:"Chen, Yujin",	email:"ychen02@brandeis.edu"},
{team:15, name:"Cohen, Gerrianna",	email:"gerri@brandeis.edu"},
{team:13, name:"Cooper, Jordan",	email:"jcoop@brandeis.edu"},
{team:11, name:"Costrell, Sarah",	email:"costrell@brandeis.edu"},
{team:32, name:"Cruz, Angel",	email:"acruz146@brandeis.edu"},
{team:19, name:"Cui, Zimu",	email:"czm0821@brandeis.edu"},
{team:21, name:"Davis, Hannah",	email:"hdavis20@brandeis.edu"},
{team:12, name:"Davis, Justus",	email:"jkdavis@brandeis.edu"},
{team:5, name:"Di, Fan",	email:"	fdi@brandeis.edu"},
{team:6, name:"Dolgopolskaia, Polina",	email:"polinad@brandeis.edu"},
{team:31, name:"Dong, Xinhang",	email:"frankdong@brandeis.edu"},
{team:10, name:"Du, Han",	email:"carinadu@brandeis.edu"},
{team:20, name:"Du, Yuheng",	email:"adu36@brandeis.edu"},
{team:18, name:"Ellis, Rosalind",	email:"rnellis@brandeis.edu"},
{team:8, name:"Fan, Jiayi",	email:"floria0126@brandeis.edu"},
{team:15, name:"Fang, Laury",	email:"lauryfhy@brandeis.edu"},
{team:26, name:"Figueroa, Andrews",	email:"andrews9008@brandeis.edu"},
{team:6, name:"Finamore, Lorenzo",	email:"lorenzo8@brandeis.edu"},
{team:1, name:"Frymark, Derek",	email:"dfrymark@brandeis.edu"},
{team:29, name:"Gao, Chenxi",	email:"gaoc@brandeis.edu"},
{team:18, name:"Geng, Jiapeng",	email:"sethgeng@brandeis.edu"},
{team:6, name:"Givner, Ari",	email:"agivner@brandeis.edu"},
{team:13, name:"Goldberg, Joshua",	email:"jsgberg@brandeis.edu"},
{team:11, name:"Goncalves, Alyssa",	email:"amgoncalves@brandeis.edu"},
{team:30, name:"Goncalves Dos Santos, Vanio",	email:"vanio@brandeis.edu"},
{team:3, name:"Grover, Priyanka",	email:"priyankagrover@brandeis.edu"},
{team:29, name:"Guan, Rong",	email:"rguan@brandeis.edu"},
{team:14, name:"Guo, Yutong",	email:"tonyguo@brandeis.edu"},
{team:21, name:"Hacala, Edward",	email:"eshacala@brandeis.edu"},
{team:30, name:"Hall, Mercedes",	email:"mercedes@brandeis.edu"},
{team:1, name:"Helas, David",	email:"dhelas09@brandeis.edu"},
{team:4, name:"Hu, Yuling",	email:"huyuling@brandeis.edu"},
{team:12, name:"Huang, Nicole",	email:"nhuang@brandeis.edu"},
{team:2, name:"Ibas, Beraa",	email:"bibas@brandeis.edu"},
{team:25,name:"Jeong, Sean",	email:"seanje@brandeis.edu"},
{team:9, name:"Jiang, Michael",	email:"mjiang@brandeis.edu"},
{team:4, name:"Jiao, Xiaoling",	email:"xjiao@brandeis.edu"},
{team:5, name:"Jin, Mingyang",	email:"mingyang1994@brandeis.edu"},
{team:6, name:"Kao, Geoffrey",	email:"gkao123@brandeis.edu"},
{team:26, name:"Khimjee, Sarah",	email:"sarahkhimjee@brandeis.edu"},
{team:22, name:"Kimmel, Danny",	email:"kimmel95@brandeis.edu"},
{team:18, name:"Lavrentyeva, Sofia",	email:"slavren@brandeis.edu"},
{team:2, name:"Lee, Andrew",	email:"leeancho@brandeis.edu"},
{team:24, name:"Lee, Brian",	email:"egwoo@brandeis.edu"},
{team:7, name:"Lee, Leah",	email:"dasollee@brandeis.edu"},
{team:31, name:"Lee, Marcus",	email:"leemarcusmz@brandeis.edu"},
{team:2, name:"Lee, Vincent",	email:"vincelee@brandeis.edu"},
{team:0, name:"Lei, Shuyi",	email:"kellylei@brandeis.edu"},
{team:16, name:"Li, Borui",	email:"borui@brandeis.edu"},
{team:7, name:"Li, Jiewen",	email:"jiewenli@brandeis.edu"},
{team:14, name:"Li, Macy",	email:"macy0805@brandeis.edu"},
{team:19, name:"Li, Yanlin",	email:"rachelli@brandeis.edu"},
{team:8, name:"Liang, Angela",	email:"angella1996@brandeis.edu"},
{team:9, name:"Lin, Sylvia",	email:"sblin@brandeis.edu"},
{team:27, name:"Liu, Chao",	email:"lc89757@brandeis.edu"},
{team:13, name:"Lo, Ed",	email:"edlo@brandeis.edu"},
{team:15, name:"Longfellow, Jeremy",	email:"sachio@brandeis.edu"},
{team:4, name:"Lu, Runjie",	email:"lurunjie@brandeis.edu"},
{team:13, name:"Lu, Siyuan",	email:"eutopia@brandeis.edu"},
{team:18, name:"Ma, Cindy",	email:"cindym@brandeis.edu"},
{team:6, name:"Marks, Aaron",	email:"marksaaron@brandeis.edu"},
{team:3, name:"Moncaleano, Maria",	email:"marm@brandeis.edu"},
{team:2, name:"Moon, Sung Jun",	email:"moonms1@brandeis.edu"},
{team:10, name:"Nie, Shuyuan",	email:"blackmew@brandeis.edu"},
{team:28, name:"Nineberg, Sam",	email:"sabird1@brandeis.edu"},
{team:13, name:"Novas, John",	email:"jnovas@brandeis.edu"},
{team:26, name:"Owens, Quay",	email:"quay@brandeis.edu"},
{team:8, name:"Park, Chanwoo",	email:"parkchan@brandeis.edu"},
{team:26, name:"Perez, Irving",	email:"irvingperez@brandeis.edu"},
{team:12, name:"Pham, Vi",	email:"knopewecan@brandeis.edu"},
{team:32, name:"Pinilla, Jay",	email:"jpinilla@brandeis.edu"},
{team:20, name:"Qin, Yanan",	email:"qyn9588@brandeis.edu"},
{team:21, name:"Raphael, Sam",	email:"sraph@brandeis.edu"},
{team:11, name:"Reddy Khan, Karishma",	email:"kreddykhan@brandeis.edu"},
{team:1, name:"Rios, Jarrett",	email:"jrios@brandeis.edu"},
{team:3, name:"Rock, Danielle",	email:"drock26@brandeis.edu"},
{team:31, name:"Ruiz, Julie",	email:"jr1740@brandeis.edu"},
{team:26, name:"Rzaev, Darhan",	email:"darhanrzaev@brandeis.edu"},
{team:0, name:"Sahay, Prakhar",	email:"prakhar@brandeis.edu"},
{team:9, name:"Sax, Sigal",	email:"siggy819@brandeis.edu"},
{team:21, name:"Shulman, Stephany",	email:"steshu07@brandeis.edu"},
{team:30, name:"Small, Rhea",	email:"rheasjam@brandeis.edu"},
{team:27, name:"Song, Ruihua",	email:"ruihuasong@brandeis.edu"},
{team:15, name:"Soohoo, Jamie",	email:"soohooj@brandeis.edu"},
{team:29, name:"Sun, Haotian",	email:"htsun1993@brandeis.edu"},
{team:14, name:"Sun, Jerry",	email:"boyuan@brandeis.edu"},
{team:17, name:"Sustiel, Zachary",	email:"sustielz@brandeis.edu"},
{team:22, name:"Tjahjadi, Jonas",	email:"jtjahjad15@brandeis.edu"},
{team:17, name:"Torres, Elmer",	email:"elmer0216@brandeis.edu"},
{team:31, name:"Trankiem, Amy",	email:"trankiem@brandeis.edu"},
{team:25,name:"Wang, Kay",	email:"junke@brandeis.edu"},
{team:20, name:"Wang, Rantong",	email:"daa7923@brandeis.edu"},
{team:19, name:"Wang, Xinyue",	email:"xywang19@brandeis.edu"},
{team:20, name:"Wang, Yirong",	email:"shirleyw@brandeis.edu"},
{team:19, name:"Wang, Ziqi",	email:"wangziqi@brandeis.edu"},
{team:22, name:"Weinberg, Ben",	email:"bweinberg@brandeis.edu"},
{team:1, name:"Weld, Charlie",	email:"cweld@brandeis.edu"},
{team:7, name:"Wu, Yangyang",	email:"wuzh@brandeis.edu"},
{team:27, name:"Xiong, Shuao",	email:"seanxiong@brandeis.edu"},
{team:17, name:"Yahna, Gavin",	email:"gavinyahna@brandeis.edu"},
{team:25,name:"Yao, Mingyuan",	email:"monkyao@brandeis.edu"},
{team:27, name:"Yao, Xin",	email:"xyao01@brandeis.edu"},
{team:18, name:"Ye, Yujia",	email:"yyj@brandeis.edu"},
{team:16, name:"Zhu, Christine",	email:"zhuc18@brandeis.edu"},
{team:10, name:"Zhu, Mengdi",	email:"monica92@brandeis.edu"},
{team:8, name:"Zhu, Minghan",	email:"minghanzhu@brandeis.edu"},
{team:16, name:"Zhu, Victor",	email:"telandis@brandeis.edu"},
{team:14, name:"Zhuang, Austin",	email:"austinzxp@brandeis.edu"},
{team:5, name:"Zou, Weitao",	email:"zouwt@brandeis.edu"},
{team:7, name:"Kaiwen Wei",     email:"kevinawei@brandeis.edu"},
{team:23, name:"Tim Hickey", email:"tjhickey@brandeis.edu"},
];

Meteor.methods({
	"updateTeams":function(){
		teams.forEach(function(s){
			console.log("updating "+s.title);
			Teams.update({num:s.num},{$set:{title:s.title,teamname:s.teamname,url:s.url}});
		});
		members.forEach(function(s){
      console.log(s.name);
			Members.update({email:s.email},{$set:{name:s.name.trim()}});
      console.dir(Members.findOne({email:s.email}));
		})
	},

  "myReviews":function(team){
    return Teams.find({num:team});
  },

})

Meteor.publish("teams",function(){return Teams.find();})
Meteor.publish("members",function(){return Members.find();})
Meteor.publish("reviews",function(){ return Reviews.find();})
//  return Reviews.find({reviewer:this.userId});})



Meteor.startup(function(){
  if (Teams.find().count()==0){
		console.log("loading in teamdata");
		teams.forEach(function(s){Teams.insert(s)});
		members.forEach(function(s){Members.insert(s)});
	}

	if (Pokedex.find().count()==0){
		console.log("Importing Pokedex to db")

			 var data = JSON.parse(Assets.getText(
				 "Pokemon-DB-master/pokedex.json"));
			 console.log("data length = "+data.length);

			 data.forEach(function (item, index, array) {
				 //console.log(index+" "+JSON.stringify(item));
					 Pokedex.insert(item);
			 })
			 console.log("Pokedex imported");
	};

// this is very insecure, but helpful for development
	Meteor.publish('userList', function (){
  return Meteor.users.find({});
});

});
